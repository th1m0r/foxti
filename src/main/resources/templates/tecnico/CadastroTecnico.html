<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:data="http://www.thymeleaf.org/extras/data"
	layout:decorate="~{layout/LayoutPadrao}"
	xmlns:aratu="http://aratu.aratuweb.com.br">

<head>
<title>Técnicos</title>
</head>
<body>
	<div layout:fragment="conteudo">
		
		<div class="content-header">
			<div class="container-fluid">
				<div class="row mb-2">
					<div>
						<h1>Cadastro de técnicos</h1>		
					</div>
					<div class="ml-auto">						
						<div class="float-sm-right">					
							<a class="btn btn-sm btn-primary" th:href="@{/tecnicos}">
								<i class="fa fa-search"></i> 
								<span>Pesquisar</span>
							</a>					
						</div>							
					</div>					
				</div>			
			</div>
		</div>
		
		<div class="content">
			<div class="container-fluid">
				<div class="row">
					<div class="col-md-6">
						<form role="form" th:action="${tecnico.novo} ? @{/tecnicos/novo} : @{/tecnicos/{id}(id=${tecnico.id})}" th:object="${tecnico}" method="post">
							<aratu:message/>
							<div class="row">
								<div class="col-4">
									<div class="form-group">
										<label class="control-label">Código</label>
										<input type="text" id="id" 
												th:field="*{id}" class="form-control form-control-sm" 
												th:errorclass="has-error"										
												readonly="readonly" placeholder="Código"/>
									</div>
								</div>						
							</div>
							<div class="row">								
								<div class="col-12">
									<div class="form-group">
										<label class="control-label">Nome</label>		
										<input type="text" id="nome" 
												th:field="*{nome}" class="form-control form-control-sm"
												autocomplete="off" placeholder="Nome"
												autofocus="autofocus" th:errorclass="is-invalid" />
									</div>
								</div>									
							</div>
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group">
										<label class="control-label">E-mail</label>
										<input type="text" id="email" 
												th:field="*{email}" class="form-control form-control-sm"
												autocomplete="off" placeholder="E-mail"
												autofocus="autofocus" th:errorclass="is-invalid" />
									</div>
								</div>									
							</div>
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group">
										<label class="control-label">Telefone</label>
										<input type="text" id="telefone" 
												th:field="*{telefone}" class="form-control form-control-sm js-phone-number"
												autocomplete="off" placeholder="Telefone"
												autofocus="autofocus" th:errorclass="is-invalid" />
									</div>
								</div>														
							</div>
							<div class="row mt-3">
								<div class="col-4"></div>							
								<div class="col-4">
									<a href="javascript:history.back()" class="btn btn-sm btn-danger w-100">Cancelar</a>
								</div>
								<div class="col-4">
									<button type="submit" class="btn btn-sm btn-primary w-100">Salvar</button>						
								</div>
							</div>
						</form>									
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		$("input").keypress(
			function(e) {
				var k = e.which || e.keyCode;
				if (k == 13) {
					e.preventDefault();				
					$(this).closest('div').next().find('input, button').first().focus();					
			}	
		});	
		
		$("button").on("focus", () => $("form").submit());
	</script>
</body>
</html>